# Harmony Core

## Описание

Позволяет работать с элементами музыки.

## Работа с библиотекой

### Подключение к проекту

> Описанные далее действия ориентированы на проект, использующий Git и CMake.

#### Во-первых, необходимо добавить библиотеку в качестве подмодуля Git.

```shell
git submodule add https://github.com/Harmoniza-Bot/harmony-core.git
```

#### Во-вторых, необходимо добавить созданную директорию с библиотекой в любом проектном сценарии CMake.

> Код из данного примера должен быть помещён в корневой проектный сценарий CMake, либо путь к директории с библиотекой
> нужно изменить (по умолчанию для корневого проектного сценария CMake — `harmony-core`).

```cmake
add_subdirectory(harmony-core EXCLUDE_FROM_ALL)
```

#### В-третьих, необходимо добавить библиотеку для нужной цели.

> Код из данного примера подразумевает, что нужная цель называется `example`.

```cmake
target_link_libraries(example PRIVATE harmony-core)
```

#### В-четвёртых, если удобно, можно указать путь к заголовочным файлам библиотеки для нужной цели.

> Код из данного примера должен быть помещён в корневой проектный сценарии CMake, либо путь к директории с библиотекой
> нужно изменить (по умолчанию для корневого проектного сценария CMake — `harmony-core`). Также код подразумевает, что
> нужная цель называется `example`

```cmake
target_include_directories(example PRIVATE harmony-core)
```

### Обновление библиотеки

> Описанное далее действие ориентировано на проект, использующий Git.

#### Необходимо обновить подмодуль Git.

```shell
git submodule update --remote
```

### Работа с библиотекой

Библиотека состоит из двух основных модулей, разделенных неймспейсами `harmony_core` и `hc2img`.
При добавлении библиотеки в проект (процесс добавления описан выше) эти модули можно подключить как вместе так и по отдельности:
``` C++
#include <harmony_core/harmony_core.hpp>
#include <harmony-core/hc2img.hpp>

harmony_core::Note n; // из модуля harmony_core
hc2img::List l; // из модуля hc2img
```

Модуль `harmony_core` является основным. 
Он содержит классы, необходимые для работы с музыкальными сущностями на низком уровне.
Модуль `hc2img` является простым встроенным интерфейсом, позволяющим преобразовать структуры `harmony_core` в картинки.

> Для функционирования модуля `hc2img` необходимо скачать библиотеку <a href="https://github.com/GreycLab/CImg">CImg.h</a>
, которую нужно добавить в каталог с библиотеками, 
> такой, как `/usr/include`(Linux) или `C:\Program Files (x86)\Windows Kits\10\Includ`(Windowx). 
> Также можно просто копировать папку CImg в корневой каталог библиотеки.

